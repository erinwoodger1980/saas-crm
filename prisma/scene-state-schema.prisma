/**
 * Prisma Schema Extension for Scene State Persistence
 * Add this to your schema.prisma file
 */

/*
model SceneState {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Multi-tenant key
  tenantId String
  tenant   Tenant @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  // Entity binding (what this scene represents)
  entityType String // 'door', 'window', 'quote', etc.
  entityId   String // FK to actual entity

  // Scene configuration JSON
  // Contains complete SceneConfig object
  config Json

  // Optional: track who last modified
  modifiedBy String?
  User       User?   @relation(fields: [modifiedBy], references: [id], onDelete: SetNull)

  // Composite unique key: one scene per entity
  @@unique([tenantId, entityType, entityId])
  @@index([tenantId])
  @@index([entityType, entityId])
  @@map("scene_states")
}

// Add to existing Tenant model:
model Tenant {
  // ... existing fields
  sceneStates SceneState[]
}

// Add to existing User model:
model User {
  // ... existing fields
  modifiedScenes SceneState[]
}
*/
